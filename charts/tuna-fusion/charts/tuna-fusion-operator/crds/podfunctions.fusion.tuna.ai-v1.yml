# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "podfunctions.fusion.tuna.ai"
spec:
  group: "fusion.tuna.ai"
  names:
    kind: "PodFunction"
    plural: "podfunctions"
    shortNames:
    - "pf"
    singular: "podfunction"
  scope: "Namespaced"
  versions:
  - additionalPrinterColumns:
    - jsonPath: ".status.currentBuild.name"
      name: "CurrentBuild"
      priority: 0
      type: "string"
    - jsonPath: ".status.effectiveBuild.name"
      name: "EffectiveBuild"
      priority: 0
      type: "string"
    name: "v1"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              entrypoint:
                type: "string"
              fileAssets:
                items:
                  properties:
                    content:
                      type: "string"
                    envName:
                      type: "string"
                    executable:
                      type: "boolean"
                    fileName:
                      type: "string"
                  type: "object"
                type: "array"
              podPoolName:
                type: "string"
            required:
            - "entrypoint"
            - "podPoolName"
            type: "object"
          status:
            properties:
              currentBuild:
                properties:
                  name:
                    type: "string"
                  startTimestamp:
                    type: "integer"
                  status:
                    properties:
                      deployArchive:
                        properties:
                          filesystemFolderSource:
                            properties:
                              path:
                                type: "string"
                            type: "object"
                        type: "object"
                      jobPod:
                        properties:
                          logs:
                            type: "string"
                          podName:
                            type: "string"
                          podPhase:
                            type: "string"
                        type: "object"
                      phase:
                        enum:
                        - "Failed"
                        - "Pending"
                        - "Running"
                        - "Scheduled"
                        - "Succeeded"
                        type: "string"
                    type: "object"
                type: "object"
              effectiveBuild:
                properties:
                  name:
                    type: "string"
                  startTimestamp:
                    type: "integer"
                  status:
                    properties:
                      deployArchive:
                        properties:
                          filesystemFolderSource:
                            properties:
                              path:
                                type: "string"
                            type: "object"
                        type: "object"
                      jobPod:
                        properties:
                          logs:
                            type: "string"
                          podName:
                            type: "string"
                          podPhase:
                            type: "string"
                        type: "object"
                      phase:
                        enum:
                        - "Failed"
                        - "Pending"
                        - "Running"
                        - "Scheduled"
                        - "Succeeded"
                        type: "string"
                    type: "object"
                type: "object"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      status: {}
