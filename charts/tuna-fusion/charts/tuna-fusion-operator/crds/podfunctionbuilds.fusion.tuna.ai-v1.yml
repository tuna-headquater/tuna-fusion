# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "podfunctionbuilds.fusion.tuna.ai"
spec:
  group: "fusion.tuna.ai"
  names:
    kind: "PodFunctionBuild"
    plural: "podfunctionbuilds"
    shortNames:
    - "pfb"
    singular: "podfunctionbuild"
  scope: "Namespaced"
  versions:
  - additionalPrinterColumns:
    - jsonPath: ".spec.podFunctionName"
      name: "PodFunction"
      priority: 0
      type: "string"
    - jsonPath: ".status.jobPod.podName"
      name: "JobPodName"
      priority: 0
      type: "string"
    - jsonPath: ".status.phase"
      name: "Phase"
      priority: 0
      type: "string"
    name: "v1"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              additionalFileAssets:
                items:
                  properties:
                    content:
                      type: "string"
                    envName:
                      type: "string"
                    executable:
                      type: "boolean"
                    fileName:
                      type: "string"
                    targetDirectory:
                      enum:
                      - "DEPLOY_ARCHIVE"
                      - "WORKSPACE"
                      type: "string"
                  type: "object"
                type: "array"
              environmentOverrides:
                properties:
                  buildScript:
                    type: "string"
                  builderImage:
                    type: "string"
                  serviceAccountName:
                    type: "string"
                type: "object"
              podFunctionName:
                type: "string"
              sourceArchive:
                properties:
                  filesystemFolderSource:
                    properties:
                      path:
                        type: "string"
                    type: "object"
                  filesystemZipSource:
                    properties:
                      path:
                        type: "string"
                      sha256Checksum:
                        type: "string"
                    type: "object"
                  httpZipSource:
                    properties:
                      sha256Checksum:
                        type: "string"
                      url:
                        type: "string"
                    type: "object"
                type: "object"
            required:
            - "sourceArchive"
            type: "object"
          status:
            properties:
              deployArchive:
                properties:
                  filesystemFolderSource:
                    properties:
                      path:
                        type: "string"
                    type: "object"
                type: "object"
              jobPod:
                properties:
                  logs:
                    type: "string"
                  podName:
                    type: "string"
                  podPhase:
                    type: "string"
                type: "object"
              phase:
                enum:
                - "Failed"
                - "Pending"
                - "Running"
                - "Scheduled"
                - "Succeeded"
                type: "string"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      status: {}
